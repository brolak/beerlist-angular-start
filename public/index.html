<!DOCTYPE html>
<html ng-app="beerList">

<head>
    <link href="bootstrap/dist/css/bootstrap.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="style.css">
    <title>Beer List [angular]</title>
</head>

<body ng-controller="mainController">
    
    <div class="container">
        <div class="row">
            <!-- form for beer details-->
            <div class="col-md-6 col-md-offset-3">
                <form ng-submit="addBeer()">
                    <h3>Add a new beer</h3>
                    <div class="form-group">
                    <!-- entry for beer name-->
                        <input type="text" class="form-control" placeholder="Beer Name" ng-model="name"/>
                    </div>
                    <div class="form-group">
                    <!-- entry for beer style-->
                        <input type="text" class="form-control" placeholder="Style" ng-model="style"/>
                    </div>
                    <div class="form-group">
                    <!-- entry for alcohol by volume-->
                        <input type="text" class="form-control" placeholder="ABV%" ng-model="abv"/>
                    </div>
                    <div class="form-group">
                    <!-- entry for beer image url-->
                        <input type="text" class="form-control" placeholder="Image URL" ng-model="image"/>
                    </div>
                    <div class="form-group">
                    <!-- entry for beer rating-->
                        <select class="form-control" ng-model="rating">
                            <option value="">Rate this beer</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary">Add</button>
                </form>
                
                </div>
            </div>
        </div>

        <!-- Title for beerlist and sort buttons -->
        <div class="row">
            <div class="col-md-6 col-md-offset-3 text-center">
                <h1>BeerList</h1>
                <!-- sort button-->
                <h3><span class="glyphicon glyphicon-sort" aria-hidden="true" ng-click="sortBeers()"></span></h3>
                <div class="page-header">
                </div>
            </div>
        </div>   

        <!-- Render area for beers -->
        <div class="row">
            <div class="col-md-4 text-center beer-block" ng-repeat="beer in beers| orderBy: 'rating': reverse track by beer._id">
                <h3 ng-hide="edit">{{ beer.name }}</h3>   
                <input type="text" ng-model="beer.name" ng-show="edit">
                <!-- remove/edit button-->
                <span class="glyphicon glyphicon-trash" aria-hidden="true" ng-click="removeBeer(this.beer._id)"></span>
                <span class="glyphicon glyphicon-pencil" aria-hidden="true" ng-hide="edit" ng-click="updateBeer()"></span>
                <span class="glyphicon glyphicon-ok" aria-hidden="true" ng-show="edit" ng-click="updateBeer()"></span>
                <h4 ng-hide="edit">{{ beer.abv }}% abv.</h4>
                <input type="text" ng-model="beer.abv" ng-show="edit">
                <h4 ng-hide="edit">{{ beer.style }}</h4>
                <input type="text" ng-model="beer.style" ng-show="edit">
                <h4>Average Rating: {{ avgFun(beer.rating) }}</h4>
                <h4>({{ beer.rating.length }} ratings)</h4>
                <!-- entry for user beer rating-->
                <select class="form-control" ng-model="userRating">
                            <option value="">Add your own rating</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                </select>
                <button type="button" class="btn btn-info" ng-click="addRating(this.beer._id,this.userRating)">Submit your rating</button>
                <img ng-src="{{ beer.image }}"/>
            </div>
        </div>

    <!-- Scripts for angular/app, service, controller -->
    <script src="angular/angular.js"></script>
    <script src="js/app.js"></script>
    <script src="js/controllers/mainController.js"></script>
    <script src="js/service/beers.js"></script>
   
</body>
</html>